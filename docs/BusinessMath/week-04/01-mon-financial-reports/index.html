<!doctype html><html lang="en" data-bs-theme="light"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Part 13 of 12-Week BusinessMath Series"><meta name="author" content="Justin Purnell"><meta name="generator" content="Ignite v0.2.1"><title>Building Multi-Period Financial Reports</title><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/prism-default-dark.css" rel="stylesheet"><link href="/css/bootstrap-icons.min.css" rel="stylesheet"><link href="https://www.justinpurnell.com/BusinessMath/week-04/01-mon-financial-reports" rel="canonical"><meta property="og:site_name" content="Justin Purnell"><meta property="og:title" content="Building Multi-Period Financial Reports"><meta property="twitter:title" content="Building Multi-Period Financial Reports"><meta property="og:description" content="Building Multi-Period Financial Reports"><meta name="twitter:description" content="Building Multi-Period Financial Reports"><meta property="og:url" content="https://www.justinpurnell.com/BusinessMath/week-04/01-mon-financial-reports"><meta name="twitter:domain" content="justinpurnell.com"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:dnt" content="on"><meta name="description" content="**Entrepreneurial Strategist & Builder:** Justin Purnell is the Founder of **Ledge Partners**, dedicated to acquiring and leading profitable businesses. His foundation is built on seven years at **Goldman Sachs** as a high yield credit analyst, where he published over **400 research reports** and advised C-level executives.
**Product Innovation and Scale:** He led the complete **re-platforming of technology supporting over 70 e-commerce sites** globally as Head of Product at **Hotels at Home**. He actively builds technical solutions, including pioneering **AI-powered software** to automate product data generation and designing a Swift middleware prototype that cut vendor onboarding time from **four months to two weeks**.
**Driving Financial and Organizational Results:** At **NBCUniversal's Seeso**, he directed product operations and retention initiatives that resulted in a **40% increase in customer Lifetime Value**. He is adept at mobilizing cross-functional teams, having successfully stepped in to **referee a dispute** between NBC and a third-party vendor to foster consensus and launch the Content Commerce platform.
**Creative and Governance Leadership:** Justin combines corporate rigor with creative experience, having directed the Webby-awarded web series **Smart Girls at the Party** and serving as a founding producer for **UCBcomedy.com**. He maintains significant governance roles, including serving as **President of the Princeton University Class of 2000** (1,143 alumni) and managing its annual giving campaigns."><meta name="fediverse:creator" content="@jpurnell@mastodon.social"><meta name="tags" content="Product Manager, Strategy, Product Leader, Goldman Sachs, NBCUniversal, Hotels at Home, AI, LLM, Digital Transformation, e-commerce, Swift, Consensus Leadership, Leadership, Agile, DevOps, Continuous Integration, Continuous Deployment, Cloud, Data Science, Machine Learning, Python, JavaScript, Front-end, Back-end, Full-stack, Responsive Design, Accessibility, SEO, Content Strategy, User Experience, User Interface, Design, Agile, Product Strategy, Technical Strategy"><script>	(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-K3TZS8J');</script><link href="/css/main.css" rel="stylesheet"></head><body><div class="col-sm-10 mx-auto"><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K3TZS8J"
	height="0" width="0" style="display:none;visibility:hidden"></iframe>
<header><nav class="noPrint navbar navbar-expand-md" style="border-bottom: 0.01em solid #d5d5d5;"><div class="container-fluid col"><button type="button" class="navbar-toggler btn" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div id="navbarCollapse" class="collapse navbar-collapse"><ul class="navbar-nav mb-2 mb-md-0 col"><li class="nav-item"><a href="/" class="nav-link">Home</a></li><li class="nav-item"><a href="/about" class="nav-link">About</a></li><li class="nav-item"><a href="/cv" class="nav-link">CV</a></li><li class="nav-item"><a href="/business-math" class="nav-link">BusinessMath</a></li><li class="nav-item"><a href="/next" class="nav-link">NeXT</a></li></ul></div></div></nav></header><div class="row"><div class="col"><h1 class="mainTitle">Building Multi-Period Financial Reports</h1><div style="margin-bottom: 2em"><p class="blogDateTime" style="margin-left: 1em">BusinessMath Quarterly Series</p><p class="blogDateTime" style="margin-left: 1em">8 min read</p></div><p class="mx-auto blurb" style="width: 70%; max-width: 800px"><p><strong>Part 13 of 12-Week BusinessMath Series</strong></p><hr /><h2>What You‚Äôll Learn</h2><ul><li>Creating comprehensive financial reports with period summaries</li><li>Building multi-period reports for trend analysis</li><li>Tracking operational metrics alongside financial statements</li><li>Calculating growth rates and margin trends</li><li>Generating analyst-style financial summaries</li></ul><hr /><h2>The Problem</h2><p>Financial analysis isn‚Äôt just about individual statements‚Äîit‚Äôs about <strong>trends, comparisons, and integrated metrics</strong>. Analysts need to see:</p><ul><li><strong>Quarter-over-quarter growth</strong>: Is revenue accelerating or decelerating?</li><li><strong>Margin trends</strong>: Are we expanding or compressing margins?</li><li><strong>Leverage evolution</strong>: Is debt increasing relative to EBITDA?</li><li><strong>Operational drivers</strong>: What metrics drive the financials?</li></ul><p>Building comprehensive multi-period reports manually can be tedious. You need financial statements, operational metrics, computed ratios, and trend calculations‚Äîall integrated into a cohesive view.</p><p><strong>BusinessMath provides a system that combines statements, metrics, and analytics automatically.</strong></p><hr /><h2>The Solution</h2><p>BusinessMath provides <code>FinancialPeriodSummary</code> and <code>MultiPeriodReport</code> for analyst-quality financial reporting.</p><h3>Step 1: Create Financial Statements</h3><p>Start with Income Statement and Balance Sheet for multiple periods:</p><pre><code class="language-swift">import BusinessMath

let entity = Entity(
    id: "ACME",
    primaryType: .ticker,
    name: "Acme Corporation"
)

let periods = (1...4).map { Period.quarter(year: 2025, quarter: $0) }

// Revenue account
let revenue = try Account(
    entity: entity,
    name: "Product Revenue",
    incomeStatementRole: .revenue,
    timeSeries: TimeSeries(periods: periods, values: [1_000_000, 1_100_000, 1_200_000, 1_300_000])
)

// Expense accounts
let cogs = try Account(
    entity: entity,
    name: "Cost of Goods Sold",
    incomeStatementRole: .costOfGoodsSold,
    timeSeries: TimeSeries(periods: periods, values: [400_000, 450_000, 480_000, 520_000])
)

let opex = try Account(
    entity: entity,
    name: "Operating Expenses",
    incomeStatementRole: .operatingExpenseOther,
    timeSeries: TimeSeries(periods: periods, values: [300_000, 325_000, 350_000, 375_000])
)

let depreciation = try Account(
    entity: entity,
    name: "Depreciation",
    incomeStatementRole: .depreciationAmortization,
    timeSeries: TimeSeries(periods: periods, values: [50_000, 50_000, 50_000, 50_000])
)

let interest = try Account(
    entity: entity,
    name: "Interest Expense",
    incomeStatementRole: .interestExpense,
    timeSeries: TimeSeries(periods: periods, values: [25_000, 25_000, 25_000, 25_000])
)

let tax = try Account(
    entity: entity,
    name: "Income Tax",
    incomeStatementRole: .incomeTaxExpense,
    timeSeries: TimeSeries(periods: periods, values: [47_000, 49_000, 61_000, 68_000])
)

// Create Income Statement
let incomeStatement = try IncomeStatement(
	entity: entity,
	periods: periods,
	accounts: [revenue, cogs, opex, depreciation, interest, tax]
)

// Create Balance Sheet (assets, liabilities, equity)
let cash = try Account(
    entity: entity,
    name: "Cash",
    balanceSheetRole: .cashAndEquivalents,
    timeSeries: TimeSeries(periods: periods, values: [500_000, 600_000, 750_000, 900_000])
)

let receivables = try Account(
    entity: entity,
    name: "Receivables",
    balanceSheetRole: .accountsReceivable,
    timeSeries: TimeSeries(periods: periods, values: [300_000, 330_000, 360_000, 390_000])
)

let ppe = try Account(
    entity: entity,
    name: "PP&E",
    balanceSheetRole: .propertyPlantEquipment,
    timeSeries: TimeSeries(periods: periods, values: [1_000_000, 980_000, 960_000, 940_000])
)

let payables = try Account(
    entity: entity,
    name: "Payables",
    balanceSheetRole: .accountsPayable,
    timeSeries: TimeSeries(periods: periods, values: [200_000, 220_000, 240_000, 260_000])
)

let debt = try Account(
    entity: entity,
    name: "Long-Term Debt",
    balanceSheetRole: .longTermDebtNoncurrent,
    timeSeries: TimeSeries(periods: periods, values: [500_000, 500_000, 500_000, 500_000])
)

let equity = try Account(
    entity: entity,
    name: "Equity",
    balanceSheetRole: .retainedEarnings,
    timeSeries: TimeSeries(periods: periods, values: [1_100_000, 1_190_000, 1_330_000, 1_470_000])
)

let balanceSheet = try BalanceSheet(
	entity: entity,
	periods: periods,
	accounts: [cash, receivables, ppe, payables, debt, equity]
)
</code></pre><hr /><h3>Step 2: Add Operational Metrics</h3><p>Track business drivers that explain the financials:</p><pre><code class="language-swift">// Define operational metrics for each quarter
let q1Metrics = OperationalMetrics<Double>(
    entity: entity,
    period: periods[0],
    metrics: [
        "units_sold": 10_000,
        "average_price": 100.0,
        "customer_count": 500,
        "average_revenue_per_customer": 2_000
    ]
)

let q2Metrics = OperationalMetrics<Double>(
    entity: entity,
    period: periods[1],
    metrics: [
        "units_sold": 11_000,
        "average_price": 100.0,
        "customer_count": 550,
        "average_revenue_per_customer": 2_000
    ]
)

let q3Metrics = OperationalMetrics<Double>(
    entity: entity,
    period: periods[2],
    metrics: [
        "units_sold": 12_000,
        "average_price": 100.0,
        "customer_count": 600,
        "average_revenue_per_customer": 2_000
    ]
)

let q4Metrics = OperationalMetrics<Double>(
    entity: entity,
    period: periods[3],
    metrics: [
        "units_sold": 13_000,
        "average_price": 100.0,
        "customer_count": 650,
        "average_revenue_per_customer": 2_000
    ]
)

let operationalMetrics = [q1Metrics, q2Metrics, q3Metrics, q4Metrics]
</code></pre><p><strong>The insight</strong>: Operational metrics explain the financials. Revenue growth comes from adding 150 customers (30% increase) while maintaining price.</p><hr /><h3>Step 3: Create Financial Period Summary</h3><p>Combine statements and metrics into a comprehensive one-pager:</p><pre><code class="language-swift">let q1Summary = try FinancialPeriodSummary(
    entity: entity,
    period: periods[0],
    incomeStatement: incomeStatement,
    balanceSheet: balanceSheet,
    operationalMetrics: q1Metrics
)

print("=== Q1 2025 Financial Summary ===\n")
print("Revenue: \(q1Summary.revenue.currency())")
print("Gross Profit: \(q1Summary.grossProfit.currency())")
print("EBITDA: \(q1Summary.ebitda.currency())")
print("EBIT: \(q1Summary.operatingIncome.currency())")
print("Net Income: \(q1Summary.netIncome.currency())")
print()
print("Margins:")
print("  Gross Margin: \(q1Summary.grossMargin.percent(1))")
print("  Operating Margin: \(q1Summary.operatingMargin.percent(1))")
print("  Net Margin: \(q1Summary.netMargin.percent(1))")
print()
print("Returns:")
print("  ROA: \(q1Summary.roa.percent(1))")
print("  ROE: \(q1Summary.roe.percent(1))")
print()
print("Leverage:")
print("  Debt/Equity: \(q1Summary.debtToEquityRatio.number(2))x")
print("  Debt/EBITDA: \(q1Summary.debtToEBITDARatio.number(2))x")
print("  EBIT Interest Coverage: \(q1Summary.interestCoverageRatio!.number(1))x")
print()
print("Liquidity:")
print("  Current Ratio: \(q1Summary.currentRatio.number(2))x")
</code></pre><p><strong>Output:</strong></p><pre><code>=== Q1 2025 Financial Summary ===

Revenue: $1,000,000.00
Gross Profit: $600,000.00
EBITDA: $300,000.00
EBIT: $250,000.00
Net Income: $178,000.00

Margins:
  Gross Margin: 60.0%
  Operating Margin: 25.0%
  Net Margin: 17.8%

Returns:
  ROA: 9.9%
  ROE: 16.2%

Leverage:
  Debt/Equity: 0.45x
  Debt/EBITDA: 1.67x
  EBIT Interest Coverage: 10.0x

Liquidity:
  Current Ratio: 4.00x
</code></pre><p><strong>The power</strong>: One <code>FinancialPeriodSummary</code> object gives you ~30 key metrics automatically computed.</p><hr /><h3>Step 4: Build Multi-Period Report</h3><p>Aggregate multiple periods for trend analysis:</p><pre><code class="language-swift">// Create summaries for all quarters
let summaries = try periods.indices.map { index in
    try FinancialPeriodSummary(
        entity: entity,
        period: periods[index],
        incomeStatement: incomeStatement,
        balanceSheet: balanceSheet,
        operationalMetrics: operationalMetrics[index]
    )
}

// Create multi-period report
let report = try MultiPeriodReport(
    entity: entity,
    periodSummaries: summaries
)

print("\n=== Acme Corporation - FY2025 Trends ===\n")
print("Periods analyzed: \(report.periodCount)")
</code></pre><hr /><h3>Step 5: Analyze Growth Rates</h3><p>Calculate period-over-period growth:</p><pre><code class="language-swift">// Revenue growth
let revenueGrowth = report.revenueGrowth()
print("\nRevenue Growth (Q-o-Q):")
for (index, growth) in revenueGrowth.enumerated() {
    let quarter = index + 2  // Q2, Q3, Q4
    print("  Q\(quarter): \(growth.percent(1))")
}

// EBITDA growth
let ebitdaGrowth = report.ebitdaGrowth()
print("\nEBITDA Growth (Q-o-Q):")
for (index, growth) in ebitdaGrowth.enumerated() {
    let quarter = index + 2
    print("  Q\(quarter): \(growth.percent(1))")
}

// Net income growth
let netIncomeGrowth = report.netIncomeGrowth()
print("\nNet Income Growth (Q-o-Q):")
for (index, growth) in netIncomeGrowth.enumerated() {
    let quarter = index + 2
    print("  Q\(quarter): \(growth.percent(1))")
}
</code></pre><p><strong>Output:</strong></p><pre><code>Periods analyzed: 4

Revenue Growth (Q-o-Q):
  Q2: 10.0%
  Q3: 9.1%
  Q4: 8.3%

EBITDA Growth (Q-o-Q):
  Q2: 8.3%
  Q3: 13.8%
  Q4: 9.5%

Net Income Growth (Q-o-Q):
  Q2: 12.9%
  Q3: 16.4%
  Q4: 12.0%
</code></pre><p><strong>The insight</strong>: Revenue growth is decelerating (10% ‚Üí 9.1% ‚Üí 8.3%), but net income growth is accelerating due to margin expansion.</p><hr /><h3>Step 6: Track Margin Trends</h3><p>Analyze margin evolution:</p><pre><code class="language-swift">// Margin trends
let grossMargins = report.grossMarginTrend()
let operatingMargins = report.operatingMarginTrend()
let netMargins = report.netMarginTrend()

	print("\n=== Margin Trend Analysis ===")
	print("Period\t\tGross\tOperating\t   Net")
	print("------\t\t-----\t---------\t-------")
	for i in 0...(periods.count - 1) {
		let quarter = i + 1
		print("Q\(quarter)\(grossMargins[i].percent(1).paddingLeft(toLength: 15))\(operatingMargins[i].percent(1).paddingLeft(toLength: 12))\(netMargins[i].percent(1).paddingLeft(toLength: 10))")
	}

// Calculate margin expansion (convert from decimal to basis points)
// 1 percentage point = 100 basis points, so multiply decimal by 10,000
let grossExpansion = (grossMargins[3] - grossMargins[0]) * 10000
let operatingExpansion = (operatingMargins[3] - operatingMargins[0]) * 10000
let netExpansion = (netMargins[3] - netMargins[0]) * 10000

print("\nMargin Expansion (Q1 ‚Üí Q4):")
print("  Gross: \(grossExpansion.number(0)) bps")
print("  Operating: \(operatingExpansion.number(0)) bps")
print("  Net: \(netExpansion.number(0)) bps")

</code></pre><p><strong>Output:</strong></p><pre><code>=== Margin Trend Analysis ===
Period		Gross	Operating	   Net
------		-----	---------	-------
Q1          60.0%       25.0%     17.8%
Q2          59.1%       25.0%     18.3%
Q3          60.0%       26.7%     19.5%
Q4          60.0%       27.3%     20.2%

Margin Expansion (Q1 ‚Üí Q4):
  Gross: 0 bps
  Operating: 231 bps
  Net: 235 bps
</code></pre><p><strong>The insight</strong>: Gross margin stable at 60%, while operating margin expanded 231 basis points (2.3 percentage points) and net margin expanded 235 basis points (2.4 percentage points) due to operating leverage and improving efficiency.</p><hr /><h2>Try It Yourself</h2><p>Copy this into a playground and experiment:</p><pre><code>‚Üí Full API Reference: BusinessMath Docs ‚Äì 3.4 Financial Reports
</code></pre><p><strong>Modifications to try</strong>:</p><ol><li>Add more operational metrics (customer acquisition cost, LTV)</li><li>Create annual reports instead of quarterly</li><li>Compare multiple companies side-by-side</li></ol><hr /><h2>Real-World Application</h2><p>This is how equity analysts create quarterly reports:</p><ul><li><strong>Equity and Credit research</strong>: 50-page reports start with one-page summary tables</li><li><strong>Earnings presentations</strong>: CFOs show this exact format to investors</li><li><strong>Internal dashboards</strong>: Management tracks these metrics monthly</li></ul><p>BusinessMath makes creating these reports programmatic and reproducible.</p><hr /><p><code>‚òÖ Insight ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</code></p><p><strong>Why Separate Financial Statements from Reports?</strong></p><p><code>IncomeStatement</code> and <code>BalanceSheet</code> model the raw data.</p><p><code>FinancialPeriodSummary</code> computes derived metrics (EBITDA, ROE, ratios).</p><p><code>MultiPeriodReport</code> analyzes trends (growth rates, margin expansion).</p><p>This separation follows the <strong>Single Responsibility Principle</strong>:</p><ul><li>Statements = data containers</li><li>Summaries = metric calculators</li><li>Reports = trend analyzers</li></ul><p>Each layer adds value without bloating the lower layers.</p><p><code>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</code></p><hr /><h3>üìù Development Note</h3><p>The hardest design decision was: <strong>How opinionated should the report format be?</strong></p><p>We could have made <code>FinancialPeriodSummary</code> produce formatted output (tables, charts). But formatting requirements vary wildly:</p><ul><li>CLI tools want plain text</li><li>Web apps want HTML</li><li>iOS apps want SwiftUI views</li><li>Analysts want Excel exports</li></ul><p>We chose <strong>data-only output</strong>: <code>FinancialPeriodSummary</code> computes metrics and returns them as properties. You format however you want.</p><p>This makes the API flexible at the cost of requiring formatting code. Worth it.</p><p><strong>Related Methodology</strong>: <a href="../week-02/02-tue-documentation-as-design.md">Documentation as Design</a> (Week 2) - Designing APIs that users understand</p><hr /><h2>Next Steps</h2><p><strong>Coming up next</strong>: <a href="../02-wed-financial-statements">Financial Statements Guide (Wednesday)</a> - Deep dive into Income Statement, Balance Sheet, and Cash Flow Statement.</p><p><strong>This week</strong>: <a href="../03-fri-lease-accounting">Lease Accounting (Friday)</a> - IFRS 16 / ASC 842 lease modeling.</p><hr /><p><strong>Series Progress</strong>:</p><ul><li>Week: 4/12</li><li>Posts Published: 13/~48</li><li>Topics Covered: Foundation + Analysis + Operational + Financial Statements (starting)</li><li>Playgrounds: 12 available</li></ul></p><hr /><div style="margin-top: 2em"><p class="blurb" style="font-style: italic">Tagged with: businessmath, swift, financial-reports, financial-statements, metrics</p></div></div></div><header><nav class="noPrint navbar navbar-expand-md" style="border-top: 0.01em solid #d5d5d5;"><div class="container-fluid col"><button type="button" class="navbar-toggler btn" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div id="navbarCollapse" class="collapse navbar-collapse"><ul class="navbar-nav mb-2 mb-md-0 col"><li class="nav-item"><a href="mailto:morals.tech.0x@icloud.com" id="email" rel="me" target="_blank" class="nav-link">email</a></li><li class="nav-item"><a href="https://cal.com/jpurnell/15min" id="calendar" rel="me" target="_blank" class="nav-link">calendar</a></li><li class="nav-item"><a href="http://blog.justinpurnell.com" id="blog" rel="me" target="_blank" class="nav-link">blog</a></li><li class="nav-item"><a href="https://github.com/jpurnell" id="github" rel="me" target="_blank" class="nav-link">github</a></li><li class="nav-item"><a href="https://bsky.app/profile/justinpurnell.com" id="bsky" rel="me" target="_blank" class="nav-link">bsky</a></li><li class="nav-item"><a href="https://mastodon.social/@jpurnell" id="mastodon" rel="me" target="_blank" class="nav-link">mastodon</a></li><li class="nav-item"><a href="https://music.apple.com/us/station/justin-purnells-station/ra.u-a475786ae9cc432a1abb70ff757aa95f" id="radio" rel="me" target="_blank" class="nav-link">radio</a></li><li class="nav-item"><a href="http://blog.justinpurnell.com/rss" id="rss" rel="me" target="_blank" class="nav-link">rss</a></li><li class="nav-item"><a href="#" id="theme-toggle" rel="me" target="_blank" class="nav-link">theme</a></li></ul></div></div></nav></header><script src="/js/theme-toggle.js"></script></div><script src="/js/bootstrap.bundle.min.js"></script><script src="/js/syntax-highlighting.js"></script></body></html>