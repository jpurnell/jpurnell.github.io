<!doctype html><html lang="en" data-bs-theme="light"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Part 16 of 12-Week BusinessMath Series"><meta name="author" content="Justin Purnell"><meta name="generator" content="Ignite v0.2.1"><title>Loan Amortization Analysis</title><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/prism-default-dark.css" rel="stylesheet"><link href="/css/bootstrap-icons.min.css" rel="stylesheet"><link href="https://www.justinpurnell.com/BusinessMath/week-05/01-mon-loan-amortization" rel="canonical"><meta property="og:site_name" content="Justin Purnell"><meta property="og:title" content="Loan Amortization Analysis"><meta property="twitter:title" content="Loan Amortization Analysis"><meta property="og:description" content="Loan Amortization Analysis"><meta name="twitter:description" content="Loan Amortization Analysis"><meta property="og:url" content="https://www.justinpurnell.com/BusinessMath/week-05/01-mon-loan-amortization"><meta name="twitter:domain" content="justinpurnell.com"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:dnt" content="on"><meta name="description" content="**Entrepreneurial Strategist & Builder:** Justin Purnell is the Founder of **Ledge Partners**, dedicated to acquiring and leading profitable businesses. His foundation is built on seven years at **Goldman Sachs** as a high yield credit analyst, where he published over **400 research reports** and advised C-level executives.
**Product Innovation and Scale:** He led the complete **re-platforming of technology supporting over 70 e-commerce sites** globally as Head of Product at **Hotels at Home**. He actively builds technical solutions, including pioneering **AI-powered software** to automate product data generation and designing a Swift middleware prototype that cut vendor onboarding time from **four months to two weeks**.
**Driving Financial and Organizational Results:** At **NBCUniversal's Seeso**, he directed product operations and retention initiatives that resulted in a **40% increase in customer Lifetime Value**. He is adept at mobilizing cross-functional teams, having successfully stepped in to **referee a dispute** between NBC and a third-party vendor to foster consensus and launch the Content Commerce platform.
**Creative and Governance Leadership:** Justin combines corporate rigor with creative experience, having directed the Webby-awarded web series **Smart Girls at the Party** and serving as a founding producer for **UCBcomedy.com**. He maintains significant governance roles, including serving as **President of the Princeton University Class of 2000** (1,143 alumni) and managing its annual giving campaigns."><meta name="fediverse:creator" content="@jpurnell@mastodon.social"><meta name="tags" content="Product Manager, Strategy, Product Leader, Goldman Sachs, NBCUniversal, Hotels at Home, AI, LLM, Digital Transformation, e-commerce, Swift, Consensus Leadership, Leadership, Agile, DevOps, Continuous Integration, Continuous Deployment, Cloud, Data Science, Machine Learning, Python, JavaScript, Front-end, Back-end, Full-stack, Responsive Design, Accessibility, SEO, Content Strategy, User Experience, User Interface, Design, Agile, Product Strategy, Technical Strategy"><script>	(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-K3TZS8J');</script><link href="/css/main.css" rel="stylesheet"></head><body><div class="col-sm-10 mx-auto"><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K3TZS8J"
	height="0" width="0" style="display:none;visibility:hidden"></iframe>
<header><nav class="noPrint navbar navbar-expand-md" style="border-bottom: 0.01em solid #d5d5d5;"><div class="container-fluid col"><button type="button" class="navbar-toggler btn" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div id="navbarCollapse" class="collapse navbar-collapse"><ul class="navbar-nav mb-2 mb-md-0 col"><li class="nav-item"><a href="/" class="nav-link">Home</a></li><li class="nav-item"><a href="/about" class="nav-link">About</a></li><li class="nav-item"><a href="/cv" class="nav-link">CV</a></li><li class="nav-item"><a href="/business-math" class="nav-link">BusinessMath</a></li><li class="nav-item"><a href="/next" class="nav-link">NeXT</a></li></ul></div></div></nav></header><div class="row"><div class="col"><h1 class="mainTitle">Loan Amortization Analysis</h1><div style="margin-bottom: 2em"><p class="blogDateTime" style="margin-left: 1em">BusinessMath Quarterly Series</p><p class="blogDateTime" style="margin-left: 1em">12 min read</p></div><p class="mx-auto blurb" style="width: 70%; max-width: 800px"><p><strong>Part 16 of 12-Week BusinessMath Series</strong></p><hr /><h2>What Youâ€™ll Learn</h2><ul><li>Calculating monthly loan payments using TVM functions</li><li>Generating complete amortization schedules</li><li>Analyzing principal vs. interest breakdowns over time</li><li>Comparing different loan scenarios (terms, rates)</li><li>Evaluating extra payment strategies and payoff acceleration</li><li>Calculating cumulative totals for tax deductions</li></ul><hr /><h2>The Problem</h2><p>Whether youâ€™re buying a house, car, or funding business expansion, loans are everywhere. But understanding <strong>how loans actually work</strong> is surprisingly complex:</p><ul><li><strong>Why do early payments go mostly to interest?</strong> On a 30-year mortgage, the first payment might be 83% interest!</li><li><strong>How much does a lower rate save?</strong> Is 5.5% vs. 6% worth refinancing?</li><li><strong>Should I pay extra principal?</strong> What if I add $200/monthâ€”when does the loan pay off?</li><li><strong>Whatâ€™s tax deductible?</strong> How much mortgage interest can I deduct each year?</li></ul><p><strong>Manual loan calculations in spreadsheets are tedious and error-prone when analyzing multiple scenarios.</strong></p><hr /><h2>The Solution</h2><p>BusinessMath provides comprehensive loan amortization functions built on time value of money primitives: <code>payment()</code>, <code>interestPayment()</code>, <code>principalPayment()</code>, and cumulative functions for multi-period totals.</p><h3>Calculate Monthly Payment</h3><p>Start with the basic loan parameters:</p><pre><code class="language-swift">import BusinessMath

// 30-year mortgage
let principal = 300_000.0      // $300,000 loan
let annualRate = 0.06          // 6% annual interest rate
let years = 30
let monthlyRate = annualRate / 12
let totalPayments = years * 12  // 360 payments

print("Mortgage Loan Analysis")
print("======================")
print("Principal: \(principal.currency())")
print("Annual Rate: \(annualRate.percent())")
print("Term: \(years) years (\(totalPayments) payments)")
print("Monthly Rate: \(monthlyRate.percent(4))")
</code></pre><p><strong>Output:</strong></p><pre><code>Mortgage Loan Analysis
======================
Principal: $300,000
Annual Rate: 6.00%
Term: 30 years (360 payments)
Monthly Rate: 0.5000%
</code></pre><p>Now calculate the monthly payment:</p><pre><code class="language-swift">let monthlyPayment = payment(
    presentValue: principal,
    rate: monthlyRate,
    periods: totalPayments,
    futureValue: 0,      // Loan fully paid off
    type: .ordinary      // Payments at end of month
)

print("\nMonthly Payment: \(monthlyPayment.currency(2))")

// Calculate total paid over life of loan
let totalPaid = monthlyPayment * Double(totalPayments)
let totalInterest = totalPaid - principal

print("Total Paid: \(totalPaid.currency())")
print("Total Interest: \(totalInterest.currency())")
print("Interest as % of Principal: \((totalInterest / principal).percent(1))")
</code></pre><p><strong>Output:</strong></p><pre><code>Monthly Payment: $1,798.65
Total Paid: $647,514.57
Total Interest: $347,514.57
Interest as % of Principal: 115.8%
</code></pre><p><strong>The reality check</strong>: You pay <strong>more in interest ($347k) than the original loan amount ($300k)</strong>! This is why understanding amortization matters.</p><hr /><h3>First Payment Breakdown</h3><p>See where your money goes in the first payment:</p><pre><code class="language-swift">let firstInterest = interestPayment(
    rate: monthlyRate,
    period: 1,
    totalPeriods: totalPayments,
    presentValue: principal,
    futureValue: 0,
    type: .ordinary
)

let firstPrincipal = principalPayment(
    rate: monthlyRate,
    period: 1,
    totalPeriods: totalPayments,
    presentValue: principal,
    futureValue: 0,
    type: .ordinary
)

print("\nFirst Payment Breakdown:")
print("  Interest: \(firstInterest.currency()) (\((firstInterest / monthlyPayment).percent(1)))")
print("  Principal: \(firstPrincipal.currency()) (\((firstPrincipal / monthlyPayment).percent(1)))")
print("  Total: \((firstInterest + firstPrincipal).currency())")
</code></pre><p><strong>Output:</strong></p><pre><code>First Payment Breakdown:
  Interest: $1,500.00 (83.4%)
  Principal: $298.65 (16.6%)
  Total: $1,798.65
</code></pre><p><strong>The insight</strong>: In the first payment, <strong>83% goes to interest, only 17% reduces principal</strong>. This is front-loaded amortization in action.</p><hr /><h3>Last Payment Breakdown</h3><p>Compare to the final payment to see how the balance shifts:</p><pre><code class="language-swift">let lastInterest = interestPayment(
    rate: monthlyRate,
    period: totalPayments,
    totalPeriods: totalPayments,
    presentValue: principal,
    futureValue: 0,
    type: .ordinary
)

let lastPrincipal = principalPayment(
    rate: monthlyRate,
    period: totalPayments,
    totalPeriods: totalPayments,
    presentValue: principal,
    futureValue: 0,
    type: .ordinary
)

print("\nLast Payment Breakdown (Payment #\(totalPayments)):")
print("  Interest: \(lastInterest.currency()) (\((lastInterest / monthlyPayment).percent(1)))")
print("  Principal: \(lastPrincipal.currency()) (\((lastPrincipal / monthlyPayment).percent(1)))")
print("  Total: \((lastInterest + lastPrincipal).currency())")

print("\nChange from First to Last Payment:")
print("  Interest: \(firstInterest.currency()) â†’ \(lastInterest.currency())")
print("  Principal: \(firstPrincipal.currency()) â†’ \(lastPrincipal.currency())")
</code></pre><p><strong>Output:</strong></p><pre><code>Last Payment Breakdown (Payment #360):
  Interest: $8.95 (0.5%)
  Principal: $1,789.70 (99.5%)
  Total: $1,798.65

Change from First to Last Payment:
  Interest: $1,500.00 â†’ $8.95
  Principal: $298.65 â†’ $1,789.70
</code></pre><p><strong>The transformation</strong>: By the end, <strong>99.5% goes to principal, only 0.5% to interest</strong>. The ratios completely flip over 30 years.</p><hr /><h3>Complete Amortization Schedule</h3><p>Generate a payment-by-payment breakdown:</p><pre><code class="language-swift">print("\nAmortization Schedule (First 12 Months):")
print("Month |  Principal |  Interest  |   Balance")
print("------|------------|------------|------------")

var remainingBalance = principal

for month in 1...12 {
    let interestPmt = interestPayment(
        rate: monthlyRate,
        period: month,
        totalPeriods: totalPayments,
        presentValue: principal,
        futureValue: 0,
        type: .ordinary
    )

    let principalPmt = principalPayment(
        rate: monthlyRate,
        period: month,
        totalPeriods: totalPayments,
        presentValue: principal,
        futureValue: 0,
        type: .ordinary
    )

    remainingBalance -= principalPmt

    	print("\("\(month)".paddingLeft(toLength: 5)) | \(principalPmt.currency().paddingLeft(toLength: 10)) | \(interestPmt.currency().paddingLeft(toLength: 10)) | \(remainingBalance.currency())")
}
</code></pre><p><strong>Output (sample):</strong></p><pre><code>Amortization Schedule (First 12 Months):
Month |  Principal |  Interest  |   Balance
------|------------|------------|------------
    1 |    $298.65 |  $1,500.00 | $299,701.35
    2 |    $300.14 |  $1,498.51 | $299,401.20
    3 |    $301.65 |  $1,497.01 | $299,099.56
    4 |    $303.15 |  $1,495.50 | $298,796.40
	â€¦
   12 |    $315.49 |  $1,483.16 | $296,315.96
</code></pre><p><strong>The pattern</strong>: Principal payment increases slightly each month as the balance decreases and less interest accrues.</p><hr /><h3>Annual Summary for Tax Purposes</h3><p>Calculate yearly totals for tax deduction tracking:</p><pre><code class="language-swift">print("\nAnnual Summary:")
print("Year | Principal  | Interest   | Total Payment | Ending Balance")
print("-----|------------|------------|---------------|----------------")

var currentBalance = principal

for year in 1...5 {
    let startPeriod = (year - 1) * 12 + 1
    let endPeriod = year * 12

    let yearInterest = cumulativeInterest(
        rate: monthlyRate,
        startPeriod: startPeriod,
        endPeriod: endPeriod,
        totalPeriods: totalPayments,
        presentValue: principal,
        futureValue: 0,
        type: .ordinary
    )

    let yearPrincipal = cumulativePrincipal(
        rate: monthlyRate,
        startPeriod: startPeriod,
        endPeriod: endPeriod,
        totalPeriods: totalPayments,
        presentValue: principal,
        futureValue: 0,
        type: .ordinary
    )

    currentBalance -= yearPrincipal
    let totalYear = yearInterest + yearPrincipal

    print("  \(year)  | \(yearPrincipal.currency()) | \(yearInterest.currency()) | \(totalYear.currency())  | \(currentBalance.currency())")
}
</code></pre><p><strong>Output:</strong></p><pre><code>Annual Summary:
Year | Principal  | Interest   | Total Payment | Ending Balance
-----|------------|------------|---------------|----------------
  1  |  $3,684.04 | $17,899.78 |    $21,583.82 | $296,315.96
  2  |  $3,911.26 | $17,672.56 |    $21,583.82 | $292,404.71
  3  |  $4,152.50 | $17,431.32 |    $21,583.82 | $288,252.21
  4  |  $4,408.61 | $17,175.21 |    $21,583.82 | $283,843.60
  5  |  $4,680.53 | $16,903.29 |    $21,583.82 | $279,163.07
</code></pre><p><strong>Tax insight</strong>: Year 1 interest ($17,900) is tax deductible if you itemize. At a 24% tax bracket, thatâ€™s ~$4,300 in tax savings.</p><hr /><h3>Loan Scenario Comparison</h3><p>Compare different terms and rates side-by-side:</p><pre><code class="language-swift">print("\nLoan Comparison:")
print("Scenario           | Payment   | Total Paid | Total Interest")
print("-------------------|-----------|------------|----------------")

// 15-year loan
let payment15yr = payment(
    presentValue: principal,
    rate: monthlyRate,
    periods: 15 * 12,
    futureValue: 0,
    type: .ordinary
)
let total15yr = payment15yr * Double(15 * 12)
let interest15yr = total15yr - principal

print("15-year @ 6.00%    | \(payment15yr.currency()) | \(total15yr.currency()) | \(interest15yr.currency())")

// Lower rate (5%)
let lowRate = 0.05 / 12
let paymentLow = payment(
    presentValue: principal,
    rate: lowRate,
    periods: totalPayments,
    futureValue: 0,
    type: .ordinary
)
let totalLow = paymentLow * Double(totalPayments)
let interestLow = totalLow - principal

print("30-year @ 5.00%    | \(paymentLow.currency()) | \(totalLow.currency()) | \(interestLow.currency())")

print("\nKey Insights:")
print("  â€¢ 15-year term saves \((totalInterest - interest15yr).currency(0)) in interest")
print("  â€¢ But increases payment by \((payment15yr - monthlyPayment).currency())/month")
</code></pre><p><strong>Output:</strong></p><pre><code>Loan Comparison:
Scenario           | Payment   | Total Paid | Total Interest
-------------------|-----------|------------|----------------
15-year @ 6.00%    | $2,531.57 | $455,682.69 | $155,682.69
30-year @ 5.00%    | $1,610.46 | $579,767.35 | $279,767.35

Key Insights:
  â€¢ 15-year term saves $191,832 in interest
  â€¢ But increases payment by $732.92/month
</code></pre><p><strong>The trade-off</strong>: A 15-year loan saves ~$192k in interest but costs $733 more per month. Whether thatâ€™s worth it depends on your cash flow and opportunity cost.</p><hr /><h3>Extra Payment Strategy</h3><p>See the impact of paying extra principal each month:</p><pre><code class="language-swift">// Strategy: Pay extra $200/month toward principal
let extraPayment = 200.0
let totalMonthlyPayment = monthlyPayment + extraPayment

print("\nExtra Payment Analysis:")
print("Standard payment: \(monthlyPayment.currency())")
print("Extra payment: \(extraPayment.currency())")
print("Total payment: \(totalMonthlyPayment.currency())")

// Calculate payoff time with extra payments
var balance = principal
var month = 0
var totalInterestWithExtra = 0.0

while balance > 0 && month < totalPayments {
    month += 1

    let interest = balance * monthlyRate
    let principalReduction = min(totalMonthlyPayment - interest, balance)

    balance -= principalReduction
    totalInterestWithExtra += interest
}

let monthsSaved = totalPayments - month
let yearsSaved = Double(monthsSaved) / 12.0
let interestSaved = totalInterest - totalInterestWithExtra

print("\nResults:")
print("  Payoff time: \(month) months (\((Double(month) / 12.0).number(1)) years)")
print("  Time saved: \(monthsSaved) months (\(yearsSaved.number(1)) years)")
print("  Interest saved: \(interestSaved.currency())")
print("  Total paid: \((totalMonthlyPayment * Double(month)).currency())")
</code></pre><p><strong>Output:</strong></p><pre><code>Extra Payment Analysis:
Standard payment: $1,798.65
Extra payment: $200.00
Total payment: $1,998.65

Results:
  Payoff time: 279 months (23.3 years)
  Time saved: 81 months (6.8 years)
  Interest saved: $91,173.43
  Total paid: $557,623.79
</code></pre><p><strong>The accelerator effect</strong>: Adding just $200/month pays off the loan <strong>5.2 years earlier</strong> and saves <strong>$89k in interest</strong>!</p><hr /><h2>Try It Yourself</h2><details>
<summary>Click to expand full playground code</summary>
<pre><code class="language-swift">import BusinessMath

// 30-year mortgage
let principal = 300_000.0      // $300,000 loan
let annualRate = 0.06          // 6% annual interest rate
let years = 30
let monthlyRate = annualRate / 12
let totalPayments = years * 12  // 360 payments

print("Mortgage Loan Analysis")
print("======================")
print("Principal: \(principal.currency())")
print("Annual Rate: \(annualRate.percent())")
print("Term: \(years) years (\(totalPayments) payments)")
print("Monthly Rate: \(monthlyRate.percent(4))")


// MARK: - Now calculate the monthly payment
let monthlyPayment = payment(
	presentValue: principal,
	rate: monthlyRate,
	periods: totalPayments,
	futureValue: 0,      // Loan fully paid off
	type: .ordinary      // Payments at end of month
)

print("\nMonthly Payment: \(monthlyPayment.currency(2))")

// Calculate total paid over life of loan
let totalPaid = monthlyPayment * Double(totalPayments)
let totalInterest = totalPaid - principal

print("Total Paid: \(totalPaid.currency())")
print("Total Interest: \(totalInterest.currency())")
print("Interest as % of Principal: \((totalInterest / principal).percent(1))")

// MARK: - First Payment Breakdown

let firstInterest = interestPayment(
	rate: monthlyRate,
	period: 1,
	totalPeriods: totalPayments,
	presentValue: principal,
	futureValue: 0,
	type: .ordinary
)

let firstPrincipal = principalPayment(
	rate: monthlyRate,
	period: 1,
	totalPeriods: totalPayments,
	presentValue: principal,
	futureValue: 0,
	type: .ordinary
)

print("\nFirst Payment Breakdown:")
print("  Interest: \(firstInterest.currency()) (\((firstInterest / monthlyPayment).percent(1)))")
print("  Principal: \(firstPrincipal.currency()) (\((firstPrincipal / monthlyPayment).percent(1)))")
print("  Total: \((firstInterest + firstPrincipal).currency())")

// MARK: - Last Payment Breakdown

let lastInterest = interestPayment(
	rate: monthlyRate,
	period: totalPayments,
	totalPeriods: totalPayments,
	presentValue: principal,
	futureValue: 0,
	type: .ordinary
)

let lastPrincipal = principalPayment(
	rate: monthlyRate,
	period: totalPayments,
	totalPeriods: totalPayments,
	presentValue: principal,
	futureValue: 0,
	type: .ordinary
)

print("\nLast Payment Breakdown (Payment #\(totalPayments)):")
print("  Interest: \(lastInterest.currency()) (\((lastInterest / monthlyPayment).percent(1)))")
print("  Principal: \(lastPrincipal.currency()) (\((lastPrincipal / monthlyPayment).percent(1)))")
print("  Total: \((lastInterest + lastPrincipal).currency())")

print("\nChange from First to Last Payment:")
print("  Interest: \(firstInterest.currency()) â†’ \(lastInterest.currency())")
print("  Principal: \(firstPrincipal.currency()) â†’ \(lastPrincipal.currency())")

// MARK: - Complete Amortization Schedule

print("\nAmortization Schedule (First 12 Months):")
print("Month |  Principal |  Interest  |   Balance")
print("------|------------|------------|------------")

var remainingBalance = principal

for month in 1...12 {
	let interestPmt = interestPayment(
		rate: monthlyRate,
		period: month,
		totalPeriods: totalPayments,
		presentValue: principal,
		futureValue: 0,
		type: .ordinary
	)

	let principalPmt = principalPayment(
		rate: monthlyRate,
		period: month,
		totalPeriods: totalPayments,
		presentValue: principal,
		futureValue: 0,
		type: .ordinary
	)

	remainingBalance -= principalPmt

	print("\("\(month)".paddingLeft(toLength: 5)) | \(principalPmt.currency().paddingLeft(toLength: 10)) | \(interestPmt.currency().paddingLeft(toLength: 10)) | \(remainingBalance.currency())")
}

// MARK: - Annual Summary for Tax Purposes

print("\nAnnual Summary:")
print("Year | Principal  | Interest   | Total Payment | Ending Balance")
print("-----|------------|------------|---------------|----------------")

var currentBalance = principal

for year in 1...5 {
	let startPeriod = (year - 1) * 12 + 1
	let endPeriod = year * 12

	let yearInterest = cumulativeInterest(
		rate: monthlyRate,
		startPeriod: startPeriod,
		endPeriod: endPeriod,
		totalPeriods: totalPayments,
		presentValue: principal,
		futureValue: 0,
		type: .ordinary
	)

	let yearPrincipal = cumulativePrincipal(
		rate: monthlyRate,
		startPeriod: startPeriod,
		endPeriod: endPeriod,
		totalPeriods: totalPayments,
		presentValue: principal,
		futureValue: 0,
		type: .ordinary
	)

	currentBalance -= yearPrincipal
	let totalYear = yearInterest + yearPrincipal

	print("  \(year)  |  \(yearPrincipal.currency()) | \(yearInterest.currency()) |    \(totalYear.currency()) | \(currentBalance.currency())")
}


// MARK: - Loan Scenario Comparison

print("\nLoan Comparison:")
print("Scenario           | Payment   | Total Paid | Total Interest")
print("-------------------|-----------|------------|----------------")

// 15-year loan
let payment15yr = payment(
	presentValue: principal,
	rate: monthlyRate,
	periods: 15 * 12,
	futureValue: 0,
	type: .ordinary
)
let total15yr = payment15yr * Double(15 * 12)
let interest15yr = total15yr - principal

print("15-year @ 6.00%    | \(payment15yr.currency()) | \(total15yr.currency()) | \(interest15yr.currency())")

// Lower rate (5%)
let lowRate = 0.05 / 12
let paymentLow = payment(
	presentValue: principal,
	rate: lowRate,
	periods: totalPayments,
	futureValue: 0,
	type: .ordinary
)
let totalLow = paymentLow * Double(totalPayments)
let interestLow = totalLow - principal

print("30-year @ 5.00%    | \(paymentLow.currency()) | \(totalLow.currency()) | \(interestLow.currency())")

print("\nKey Insights:")
print("  â€¢ 15-year term saves \((totalInterest - interest15yr).currency(0)) in interest")
print("  â€¢ But increases payment by \((payment15yr - monthlyPayment).currency())/month")

// MARK: - Extra Payment Strategy

	// Strategy: Pay extra $200/month toward principal
	let extraPayment = 200.0
	let totalMonthlyPayment = monthlyPayment + extraPayment

	print("\nExtra Payment Analysis:")
	print("Standard payment: \(monthlyPayment.currency())")
	print("Extra payment: \(extraPayment.currency())")
	print("Total payment: \(totalMonthlyPayment.currency())")

	// Calculate payoff time with extra payments
	var balance = principal
	var month = 0
	var totalInterestWithExtra = 0.0

	while balance > 0 && month < totalPayments {
		month += 1

		let interest = balance * monthlyRate
		let principalReduction = min(totalMonthlyPayment - interest, balance)

		balance -= principalReduction
		totalInterestWithExtra += interest
	}

	let monthsSaved = totalPayments - month
	let yearsSaved = Double(monthsSaved) / 12.0
	let interestSaved = totalInterest - totalInterestWithExtra

	print("\nResults:")
	print("  Payoff time: \(month) months (\((Double(month) / 12.0).number(1)) years)")
	print("  Time saved: \(monthsSaved) months (\(yearsSaved.number(1)) years)")
	print("  Interest saved: \(interestSaved.currency())")
	print("  Total paid: \((totalMonthlyPayment * Double(month)).currency())")

</code></pre></details>
<p>â†’ Full API Reference: <a href="https://github.com/jpurnell/BusinessMath/blob/main/Sources/BusinessMath/BusinessMath.docc/3.7-LoanAmortization.md"><strong>BusinessMath Docs â€“ 3.7 Loan Amortization</strong></a></p><p><strong>Modifications to try</strong>:</p><ol><li>Model your actual mortgage or car loan</li><li>Compare 15, 20, and 30-year terms</li><li>Calculate the break-even refinancing rate</li><li>Model bi-weekly payment strategies</li></ol><hr /><h2>Real-World Application</h2><p>Every homebuyer, CFO, and financial planner needs loan analysis:</p><ul><li><strong>Personal finance</strong>: Should I refinance my mortgage if rates drop 0.5%?</li><li><strong>Car dealerships</strong>: Showing customers payment options (3yr vs. 5yr)</li><li><strong>Business loans</strong>: Comparing term loans vs. lines of credit</li><li><strong>Financial advisors</strong>: Helping clients decide between paying down debt vs. investing</li></ul><p><strong>CFO use case</strong>: â€œWeâ€™re considering a $5M equipment loan. Show me monthly cash flow impact, total interest cost, and sensitivity to rate changes (5%, 6%, 7%).â€</p><p>BusinessMath makes this analysis programmatic, reproducible, and easy to scenario-test.</p><hr /><p><code>â˜… Insight â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</code></p><p><strong>Why Are Loan Payments Front-Loaded with Interest?</strong></p><p>Itâ€™s not a scamâ€”itâ€™s math!</p><p>Each month, interest accrues on the <strong>remaining balance</strong>:</p><ul><li>Month 1: $300,000 balance Ã— 0.5% = $1,500 interest</li><li>Month 180: $200,000 balance Ã— 0.5% = $1,000 interest</li><li>Month 359: $1,800 balance Ã— 0.5% = $9 interest</li></ul><p>The payment ($1,799) stays constant, but as the balance decreases, interest decreases, so more goes to principal.</p><p><strong>This is compound interest working in reverse</strong>: Instead of earning interest on interest (growth), youâ€™re paying interest on the declining balance.</p><p><strong>The lesson</strong>: Pay extra principal early in the loan to maximize interest savings!</p><p><code>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</code></p><hr /><h3>ğŸ“ Development Note</h3><p>The hardest design decision for loan amortization was: <strong>Should we provide a high-level <code>LoanSchedule</code> type that generates the entire schedule at once, or expose the per-period functions (<code>interestPayment</code>, <code>principalPayment</code>)?</strong></p><p>We chose <strong>per-period functions</strong> because:</p><ol><li><strong>Flexibility</strong>: Users can generate partial schedules, skip periods, or apply custom logic (e.g. â€œI just got a bonus, if I apply it to my mortgage, how much sooner can I pay it off?â€)</li><li><strong>Memory efficiency</strong>: Donâ€™t need to store 360 rows for a 30-year loan if you only need year 1</li><li><strong>Composability</strong>: Functions work with any TVM scenario, not just loans</li></ol><p><strong>Trade-off</strong>: More verbose for simple â€œshow me the full scheduleâ€ use cases. We could add a convenience <code>LoanSchedule</code> wrapper later if needed.</p><p><strong>Related Methodology</strong>: <a href="../week-01/02-tue-test-first-development">Test-First Development</a> (Week 1) - We wrote tests for edge cases like $0 balance, negative rates, and payment #1 vs. #360 before implementing.</p><hr /><h2>Next Steps</h2><p><strong>Coming up tomorrow</strong>: Investment Analysis - Using NPV, IRR, and payback period to evaluate business opportunities.</p><p><strong>This week</strong>: Equity Valuation (Wednesday) and Bond Valuation (Thursday) complete the Advanced Modeling arc.</p><hr /><p><strong>Series Progress</strong>:</p><ul><li>Week: 5/12</li><li>Posts Published: 16/~48</li><li>Topics Covered: Foundation + Analysis + Operational + Financial Statements + Loans</li><li>Playgrounds: 15 available</li></ul></p><hr /><div style="margin-top: 2em"><p class="blurb" style="font-style: italic">Tagged with: businessmath, swift, loans, mortgages, amortization, payments</p></div></div></div><header><nav class="noPrint navbar navbar-expand-md" style="border-top: 0.01em solid #d5d5d5;"><div class="container-fluid col"><button type="button" class="navbar-toggler btn" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div id="navbarCollapse" class="collapse navbar-collapse"><ul class="navbar-nav mb-2 mb-md-0 col"><li class="nav-item"><a href="mailto:morals.tech.0x@icloud.com" id="email" rel="me" target="_blank" class="nav-link">email</a></li><li class="nav-item"><a href="https://cal.com/jpurnell/15min" id="calendar" rel="me" target="_blank" class="nav-link">calendar</a></li><li class="nav-item"><a href="http://blog.justinpurnell.com" id="blog" rel="me" target="_blank" class="nav-link">blog</a></li><li class="nav-item"><a href="https://github.com/jpurnell" id="github" rel="me" target="_blank" class="nav-link">github</a></li><li class="nav-item"><a href="https://bsky.app/profile/justinpurnell.com" id="bsky" rel="me" target="_blank" class="nav-link">bsky</a></li><li class="nav-item"><a href="https://mastodon.social/@jpurnell" id="mastodon" rel="me" target="_blank" class="nav-link">mastodon</a></li><li class="nav-item"><a href="https://music.apple.com/us/station/justin-purnells-station/ra.u-a475786ae9cc432a1abb70ff757aa95f" id="radio" rel="me" target="_blank" class="nav-link">radio</a></li><li class="nav-item"><a href="https://www.justinpurnell.com/feed.rss" id="rss" rel="me" target="_blank" class="nav-link">rss</a></li><li class="nav-item"><a href="#" id="theme-toggle" rel="me" target="_blank" class="nav-link">theme</a></li></ul></div></div></nav></header><script src="/js/theme-toggle.js"></script></div><script src="/js/bootstrap.bundle.min.js"></script><script src="/js/syntax-highlighting.js"></script></body></html>